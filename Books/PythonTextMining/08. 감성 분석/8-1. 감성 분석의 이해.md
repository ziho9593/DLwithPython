## 8-1. 감성 분석의 이해
'**감성 분석(Sentiment Analysis)**'은 텍스트에 나타난 의견, 평가, 태도와 같은 주관적인 정보를 분석하는 것을 말한다. 이와 같이 말하면 상당히 모호하게 들리는데, 의견이나 평가는 상당히 포괄적인 의미를 갖기 때문이다. 조금 더 좁고 명확하게 감성 분석을 정의하면 글자 그대로 텍스트에 담긴 감성을 분석하는 것이라고 할 수 있다.

'**감성(Sentiment)**'은 쉽게 말해서 어떤 대상에 대한 주관적인 감정으로 보통 긍정(positive), 중립(neutral), 부정(negative)의 세 분류로 나뉘어진다. 중립은 감정이 없이 객관적인 정보만을 전달하는 텍스트로 보면 되는데, 가끔 중립을 생략하고 긍정과 부정으로만 분류하기도 한다. 이와 같은 감성 분석의 정도를 극성(polarity)이라고 부르는데, 보통 극성은 감성 분석의 과정에서 숫자로 표현되며, 0이면 중립, 양수이면 긍정, 음수이면 부정을 나타낸다.

감성 분석은 사람이 읽어도 모호한 경우가 종종 있는데, 예를 들어 "마블 영화는 액션이 화려하다."라고 했을 때 이것을 긍정으로 보는지 아니면 중립으로 보는지는 읽는 사람에 따라 다를 수 있다. 여기에 조금 더 추가해서 "마블 영화는 액션이 화려해서 좋다."라고 한다면 긍정으로 볼 수 있겠으나, "마블 영화는 액션은 화려하지만 내용이 부실하다."라고 한다면 부정적인 요소가 더 강하다고 할 수 있다.

특히 우리말은 가끔 코미디에서 보듯이 "영화가 안 좋다고 아니 할 수 없다고 하기 어렵다."와 같은 식으로 부정을 반복해서 섞어주면 이해하기가 몹시 어려운데, 자동화된 감성 분석에서도 이러한 부정문들이 어려운 요소로 작용한다.

감성 분석 방법론은 다양하게 분류될 수 있는데, 크게는 어휘 기반(lexicon-based)의 분석과 기계학습 기반의 분석으로 나뉘어진다. 그 밑에 또 세부적은 분류가 있으나 여기서는 감성 사전을 이용하는 감성 분석과 머신러닝 혹은 딥러닝 기법을 사용하는 감성 분석의 두 가지만 집중해서 설명하기로 한다.

### 어휘 기반의 감성 분석
어휘 기반의 감성 분석은 감성이 표현될 수 있는 명사, 형용사, 동사를 대상으로 모든 단어에 대해 긍정 혹은 부정의 감성을 붙여서 감성 사전을 구축한 후에, 이를 기반으로 텍스트에 대한 감성 분석을 수행하는 방식이다. 감성 사전은 직접 구축하거나 누군가가 이미 구축한 사전을 가져와서 사용할 수 있는데, 사실상 직접 구축하는 것은 너무나 시간과 노력이 많이 소모되므로 특별한 경우가 아니면 외부의 감성 사전을 이용한다.

예를 들어 '마블 영화는 액션이 화려하다'에 대해 형태소 분석을 해서 ['마블', '영화', '액션', '화려하다']의 결과를 얻었다고 할 때, 감성 사전에서 '마블', '영화', '액션'에 대한 극성은 0으로 중립, '화려하다'에 대한 극성은 1로 긍정의 값을 갖는다면, 가장 쉽게는 이 값들을 합산함으로써 전체 문장에 대해 극성 1로 긍정이라고 판단할 수 있다.

감성 사전으로부터 각 단어들에 대한 감성 값을 가져온 후에 이를 조합해 텍스트에 대한 감성을 계산하는 다양한 방법이 있다. 쉬운 방법으로 앞선 예와 같이 단순한 합산을 할 수도 있으나, '영상이 유려하거나 배우가 연기를 잘하거나 시나리오가 좋은 것은 아니다'와 같이 긍정의 단어들을 나열하다가 단 한 번의 부정으로 전체 문장이 부정되는 경우가 있으므로 오류가 많이 발생할 수 있다.

이와 같은 문제점을 극복하기 위해 문장의 형태소를 분석하고 다시 이를 명사구, 형용사구와 같은 구로 묶는 '**청킹(chunking)**'을 한 후에, 밑의 단어로부터 상위의 구로 이동하면서 단계적으로 긍정/부정을 결정하는 방식도 있다. 밑에서부터 단계적으로 긍정이었다가 상위의 not(n't)에 의해 부정으로 바뀌는 [구조](https://nlp.stanford.edu/sentiment/treebank.html)인 것인데, 이렇게 하면 긍정 단어가 부정 단어보다 많지만 실제로는 부정인 경우에도 문장 구조의 분석을 통해 비교적 잘 판별할 수 있다.

보통 어휘 기반의 감성 분석과 관련한 파이썬 라이브러리들은 감성 사전과 함께 텍스트에 대한 감성 값을 반환하는 함수를 동시에 제공하므로 실제 사용은 매우 간편하며, 세부 알고리즘을 몰라도 되는 경우가 많다. 다만 자신만의 알고리즘으로 성능을 향상하고 싶다면 감성 사전을 이용해 직접 감성을 분석하는 코드를 작성할 수도 있다. 

### 머신러닝 기반의 감성 분석
머신러닝 기반으로 감성 분석을 하려면 학습을 위한 데이터셋이 있어야 한다. 예를 들어 영화 리뷰에 대해 머신러닝으로 감성을 판단하고 싶다면, 학습용으로 리뷰와 그 리뷰에 대한 감성이 라벨로 짝지어진 학습 데이터셋이 반드시 있어야 한다. 이는 쉽게 말해서 문서의 클래스가 '긍정', '부정', '중립'을 제외한 나머지로 일어진 문서 분류 문제로 볼 수 있다. 따라서 학습 데이터셋만 있다면 문서 분류에서 사용한 다양한 알고리즘으로 학습을 통해 감성을 예측할 수 있다.

어휘 기반의 감성 분석과 달리 머신러닝 기반의 감성 분석은 명시적인 감성 사전을 사용하지 않는다. 굳이 '명시적'이라고 설명한 이유는, 문서를 BOW 기반의 벡터로 변경하고 로지스틱 회귀분석으로 감성의 분류를 학습한다면 각 단어에 대한 계수가 감성 사전에서의 감성 값을 나타낼 수 있기 때문이다. 그러나 일반적으로는 계수를 감성 사전이라고 부르지는 않는다.

머신러닝 기반의 감성 분석은 학습에 사용한 말뭉치의 영향을 많이 받는다. 즉 영화 리뷰로 학습한 모형을 회사에 대한 평가와 같이 다른 도메인으로 그대로 전이(transfer)해 사용하기에는 무리가 있다. 딥러닝 기반의 감성 분석 혹은 문서 분류 모형에서는 전이의 대상이 되는 부분과 미세조정학습의 대상이 되는 부분이 분리돼 있어서, 일반적 혹은 공통적인 학습 결과를 현재 문제에 맞게 수정·보완해 재사용할 수 있다. 여기에 대해서는 딥러닝 분야에서 더 상세히 다루기로 한다.
