## 4-1. 카운트 기반 문서 표현의 개념

단어별 카운트를 기반으로 문서로부터 특성을 추출하고 표현하는 방식을 BOW(Bag of Words)라고 부르는데, BOW에는 문서에서 단어의 사용 여부만 표시하는 방법, 단어 수를 세어 표시하는 방법, 단어가 문서에 나타난 수를 반영해 보정하는 방법 등이 있다.

### 카운트 기반 문서 표현의 개념
카운트 기반 문서 표현은 문서의 의미를 반영해 벡터를 만드는 과정이라고 할 수 있다. 우리는 너무도 당연하게 앞에서부터 순서대로 단어들을 읽어가면서 문장의 의미를 파악한다. 텍스트와 관련한 딥러닝 기법은 이러한 방식을 그대로 학습에 사용한다. 그러나 딥러닝 기법이 등장하기 전에는 컴퓨터가 사람과 같은 방식으로 글을 이해하기 어려웠는데, 카운트 기반의 문서 표현은 문서에 나타나는 단어의 통계를 이용해 문서의 내용을 이해하고자 하는 시도라고 할 수 있다.

책을 읽고 대략 내용을 알아내야 한다고 할 때, 처음부터 차근차근 글을 읽어 나가는 데에는 시간이 오래 걸린다. 컴퓨터를 이용해 이를 좀 더 빨리 할 수 있는 방법은 책에 나오는 단어의 빈도를 세는 것이다. 어떤 단어가 주로 사용됐는지 알아내면 내용을 유추할 수 있다. 

텍스트 마이닝을 하려면 대상 텍스트를 우리가 다룰 수 있는 수치 형태로 변환해야 한다. 이때 각 수치는 그 텍스트의 **특성(feature)** 을 표현한다. 텍스트 마이닝에서는 텍스트의 특성을 정의하고 그 값으로 텍스트를 구분한다. 카운트 기반의 문서 표현에서는 텍스트의 특성을 단어로 표현하고, 특성이 갖는 값은 그 단어가 텍스트에서 나타나는 횟수로 표현한다. 따라서 각 단어가 특성이 되고, 이 단어의 빈도가 특성의 값이 된다면 파이썬의 딕셔너리로 표현할 수 있다.

그러나 여기서 한 가지 문제점이 있는데, 모든 문서의 특성이 같아야 서로 비교할 수 있으나 위와 같이 딕셔너리로 표현하면 문서마다 특성이 제각각이 되는 것이다. 문서를 비교할 수 있도록 동일한 특성을 갖게 하려면, 동일한 단어들로 특성을 표현하면 된다. 즉, 전체 말뭉치에 한 번이라도 사용된 단어는 문서에 없더라도 특성에 포함하고 빈도를 0으로 주면 된다.

이를 위해 먼저 대상이 되는 말뭉치에 대해 하나의 단어 집합(Vocabulary)을 구성하고 이 단어 집합을 대상으로 각 문서에 대해 빈도를 표시한다. 말뭉치는 '언어 연구를 위해 컴퓨터가 텍스트를 가공, 처리, 분석할 수 있는 형태로 모아 놓은 자료의 집합'을 의미한다. 즉, 일반적으로 우리가 텍스트 마이닝을 한다면 그 대상은 하나의 문장이나 문서가 아닌 그러한 문장이나 문서들의 집합이 된다. 따라서 카운트 기반의 문서 표현은 개별 문서가 아닌 말뭉치를 대상으로 한다.

이때 하나의 문서에서 사용한 단어에 비해 사용하지 않은 단어가 훨씬 많을 수밖에 없으므로, 문서에서 사용되지 않은 대부분의 특성은 값이 0이 된다. 이는 카운트 기반 문서 표현의 본질적 문제로, 문서를 표현하기 위해 너무 많은 특성을 사용해야 하고 그 특성 중 극히 일부만 값을 갖는다. 이처럼 대부분의 값이 0인 특성 벡터를 **희소 벡터(sparse vector)** 라고 부르는데, 저장공간과 연산 측면에서 매우 비효율적이므로 텍스트 마이닝을 지원하는 패키지들은 이를 효율적으로 처리할 수 있는 나름의 방법이 필요하다.

정리하자면 텍스트는 우리가 정의한 특성에 대한 특성 값의 집합(혹은 벡터)으로 변환하는데, 카운트 기반의 문서 표현에서는 단어가 특성이 되고, 단어의 빈도가 특성의 값이 된다. 이와 같은 방식을 **BOW(Bag of Words)** 라고 하며, 이렇게 표현하는 이유는 단어를 가방에 넣으면 순서가 사라지기 때문이다. 이 가방 안의 단어들에 대해 빈도를 계산하면 원문으로부터 BOW를 거쳐 특성 벡터를 추출할 수 있다.